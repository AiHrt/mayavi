<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/* CSS for MayaVi2. Based upon the default docutils CSS.
 *
 * defaults.css is included with some modifications. 
 * Majors changes are added at the end.
 * We don't use the 'use' css instruction to avoid having a second file.
 */

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-09-08 09:54:28 +0100 (Thu, 08 Sep 2005) $
:Version: $Revision: 123 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/

/* "! important" is used here to override other ``margin-top`` and
   ``margin-bottom`` styles that are later in the stylesheet or 
   more specific.  See http://www.w3.org/TR/CSS1#the-cascade */
.first {
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin: 0 auto 0 auto ; 
  padding: 0 auto 0 auto ;}

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

/*hr.docutils {
  width: 75% }*/

img.align-left {
  clear: left }

img.align-right {
  clear: right }

img.borderless {
  border: 0 }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

/*pre.line-block {
  font-family: serif ;
  font-size: 100% }*/

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid thin gray }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid thin black }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

/*tt.docutils {
  background-color: #eeeeee }*/

ul.auto-toc {
  list-style-type: none }

/********************* MayaVi modifications ********************************/

body {
    max-width: 79ex ; /* Not recognized by IE, but ... */
    margin: 1px auto 1px auto ;
    text-align: justify ;
}

a:visited { color: #EF7811 ; text-decoration: none; font-weight:700; }
a:link { color: #9b4e00; text-decoration: none; font-weight: 700; }
a:hover { color: #EF7811; text-decoration: underline; font-weight: 700; }
/* Internal links */
a.toc-backref { color: #643200 ; text-decoration: none ;}

h1 {
    font-size: xx-large ;
    color : #3c0a00 ;
    border-color : #3c0a00 ;
    color: #643200 ;
    border-color: #643200 ;
    border-width: 0 0 3px 0 ;
    border-style: solid ;
    padding : 0 0 0 1ex ;
    font-family: sans-serif ; 
}


h2 {
    font-size: x-large ;
    padding : 0 0 0 3ex ;
    color: #643200 ;
    border-color: #643200 ;
    border-width: 0 0 2px 0 ;
    border-style: solid ;
    font-family: sans-serif ; 
}

/* An attempt to make list bullets orange */
.contents li: { color: orange; }
/*li p { color: black; }*/

/* Code : */
pre.literal-block {
    color: #333 ;
    background-color: #f2eac0;
    background-repeat: repeat-y;
    background-position:  right;
    border: 1px solid;
    border-color: #999999;
    margin: 0 2em 0 2em ;
    padding: 1px;
}

div.warning {
    margin: 2em ;
    border-width: 0 0 0 0 ;
    color: #660000 ;
    padding: 0 1em 0.5em 1em }

div.warning p.admonition-title {
    margin : 0 ;
    padding: 0 ;
    color: #ee0000 ;
    border-width : 0 0 1px 0 ;
    border-style: solid ;
}

div.warning p.last {
    color: #660000 ;
    margin : 0.5ex 2px 2px 2px ;
    padding: 0 ;
    border-width: 0 0 1px 0 ;
    border-style: solid ;
    border-color: #660000 ;
}

div.topic {
    color: #444 ;
    border-width : 0 0 1px 0 ;
    border-style: solid ;
    background-color: white ;
    font-family: sans-serif ;
}

div.topic p {
    margin: 1px 1em 1px 1em ;
    font-size: smaller ;
}

div.topic p.topic-title {
    font-size: larger ;
    border-width : 0 0 1px 0 ;
    border-style: solid;
    margin: 0 0 2px 0 ;
    background-color: #f9f9f9 ;
}

blockquote.epigraph {
/*    font-size: smaller ;*/
    font-family: sans-serif ;
    font-weight : 500 ;
    padding : 0.5ex 2ex 0.5ex 5ex ;
    margin: 2px 1ex 2px 1ex ; 
    background-color: white ;
    border: solid #e3e3e3 ;
    border-width : 1px ;
    background-image: url("quotes.png");
    background-repeat: no-repeat;
    /*background-position:  right;*/
}

blockquote.highlights {
    font-size: smaller ;
    font-family: sans-serif ;
    font-weight : 600 ;
    border : solid #CCCCCC;
    border-width : 0 0 0 10px ;
    padding : 0 0 0 1ex ;
}


div.navigation {
    font-size: larger ;
    background-color: black ;
    color: #f9f9f9 ;
    padding: 0px 4px 4px 4px; 
    background-image: url("images/mayavi2-48x48.png");
    background-repeat: no-repeat;
    background-position:  right;
}

a.navigation { 
    color: #EF7811 ; text-decoration: none; font-weight:900; 
    padding: 0px 10px 2px 2px; }
a.navigation:visited { 
    color: #EF7811 ; text-decoration: none; font-weight:900; 
    padding: 0px 10px 2px 2px; }
a.navigation:link { 
    color: #FF8821; text-decoration: none; font-weight: 900; 
    padding: 0px 10px 2px 2px; }
a.navigation:hover { 
    color: #EF7811; text-decoration: underline; font-weight: 900; 
    padding: 0px 10px 2px 2px; }

/* The home-made toc */
div.toc0 { padding: 10px 1px 1px 0em ; font-family: sans-serif ;}
div.toc1 { padding: 1px 2px 1px 2em ; font-family: sans-serif ;}
div.toc2 { padding: 1px 2px 1px 4em ; font-family: sans-serif ;}
a.toc0  { 
    font-size: large ; font-weight: 700 ;
    font-family: sans-serif ;}
a.toc0:visited { 
    font-size: large ; font-weight: 700 ;
    font-family: sans-serif ;}
a.toc0:link { 
    font-size: large ; font-weight: 700 ;
    font-family: sans-serif ;}
a.toc0:hover { 
    font-size: large ; font-weight: 700 ;
    font-family: sans-serif ;}

</style>
</head>
<body>
<div class="document">


<div class=navigation>
<a class='navigation' href='user_guide.html'>
<img src="images/previous.png" border=0>
Up </a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a class='navigation' href='user_guide.html'><img src="images/go-up.png" border=0>
Top Level</a>
</div><hr class="docutils" />
<div class="section" id="tips-and-tricks">
<h1>Tips and Tricks</h1>
<p>Below are a few useful tips and tricks that you may find useful when you
use Mayavi2.</p>
<div class="section" id="customizing-the-mayavi2-ui">
<h2>Customizing the Mayavi2 UI</h2>
<p>See the <tt class="docutils literal"><span class="pre">examples/mayavi_custom_ui.py</span></tt> example that documents and
shows how the UI of the <tt class="docutils literal"><span class="pre">mayavi2</span></tt> application can be modified.  The
module documents how this can be done and provides a simple example.</p>
</div>
<div class="section" id="off-screen-rendering">
<h2>Off screen rendering</h2>
<p>Often you write Mayavi scripts to render a whole batch of images to
make an animation or so and find that each time you save an image,
Mayavi &quot;raises&quot; the window to make it the active window thus
disrupting your work.  This is needed since VTK internally grabs the
window to make a picture.  To get around this behavior you may click
on the scene and set the &quot;Off screen rendering&quot; option on.  Or from a
script:</p>
<pre class="literal-block">
mayavi.engine.current_scene.scene.off_screen_rendering = True
</pre>
<p>This will stop raising the window.  However, this may not be enough.
If you are using win32 then off screen rendering should work well out
of the box.  On Linux and the Mac you will need VTK-5.1 (currently
from CVS) to get this working properly.</p>
<p>If upgrading VTK is a problem there is another approach for any OS
that supports X11.  This option should work irrespective of the
version of VTK you are using.  The idea is to use the virtual
framebuffer X server for X11 like so:</p>
<blockquote>
<ul>
<li><p class="first">Make sure you have the <cite>xvfb</cite> package installed.</p>
</li>
<li><p class="first">Create the virtual framebuffer X server like so:</p>
<pre class="literal-block">
xvfb :1 -screen 0 1280x1024x24
</pre>
<p>This creates the display &quot;:1&quot; and creates a screen of size
1280x1024 with 24 bpp.  For more options check your <tt class="docutils literal"><span class="pre">xvfb</span></tt> man
page.</p>
</li>
<li><p class="first">Export display to :1 like so (on bash):</p>
<pre class="literal-block">
$ export DISPLAY=:1
</pre>
</li>
<li><p class="first">Now run your mayavi script.  It should run uninterrupted on this X
server and produce your saved images.</p>
</li>
</ul>
</blockquote>
<p>This probably will have to be fine tuned to suit your taste.</p>
<p>Note that if you want to use mayavi without the envisage UI or even a
traits UI (i.e. with a pure TVTK window) and do off screen rendering
with Python scripts you may be interested in the
<tt class="docutils literal"><span class="pre">examples/offscreen.py</span></tt> example.  This simple example shows how you
can use MayaVi without using Envisage or the MayaVi envisage
application and still do off screen rendering.</p>
</div>
<div class="section" id="using-mlab-with-the-full-envisage-ui">
<h2>Using <tt class="docutils literal"><span class="pre">mlab</span></tt> with the full envisage UI</h2>
<p>Sometimes it is convenient to write an mlab script but still use the
full envisage application so you can click on the menus and use other
modules etc.  To do this you may do the following before you create an
mlab figure:</p>
<pre class="literal-block">
from enthought.mayavi import mlab
mlab.options.backend = 'envisage'
f = mlab.figure()
# ...
</pre>
<p>This will give you the full-fledged UI instead of the default simple
window.</p>
</div>
<div class="section" id="scripting-mayavi-without-using-envisage">
<h2>Scripting mayavi without using Envisage</h2>
<p>The example <tt class="docutils literal"><span class="pre">examples/standalone.py</span></tt> demonstrates how one can use
Mayavi without using Envisage.  This is useful when you want to minimize
dependencies.  <tt class="docutils literal"><span class="pre">examples/offscreen.py</span></tt> demonstrates how to use mayavi
without the envisage UI or even a traits UI (i.e. with a pure TVTK
window) and do off screen rendering.</p>
</div>
<div class="section" id="embedding-mayavi-in-your-own-traits-ui">
<h2>Embedding mayavi in your own traits UI</h2>
<p>You've written your traits based application complete with a nice UI and
now you want to do some 3D plotting and embed that UI inside your own
UI.   This can be easily done.  <tt class="docutils literal"><span class="pre">examples/mayavi_traits_ui.py</span></tt> is a
fairly comprehensive example that demonstrates how you can embed almost
the entire mayavi UI into your traits based UI.
<tt class="docutils literal"><span class="pre">examples/mlab_traits_ui.py</span></tt> demonstrates how you can do some simple
mlab based visualization.</p>
</div>
<div class="section" id="computing-in-a-thread">
<h2>Computing in a thread</h2>
<p><tt class="docutils literal"><span class="pre">examples/compute_in_thread.py</span></tt> demonstrates how to visualize a 2D
numpy array and visualize it as image data using a few modules.  It also
shows how one can do a computation in another thread and update the
mayavi pipeline once the computation is done.  This allows a user to
interact with  the user interface when the computation is performed in
another thread.</p>
</div>
<div class="section" id="polling-a-file-and-auto-updating-mayavi">
<h2>Polling a file and auto-updating mayavi</h2>
<p>Sometimes you have a separate computational process that generates data
suitable for visualization.  You'd like mayavi to visualize the data but
automatically update the data when the data file is updated by the
computation.  This is easily achieved by polling the data file and
checking if it has been modified.  The <tt class="docutils literal"><span class="pre">examples/poll_file.py</span></tt>
demonstrates this.  To see it in action will require that you edit the
scalar data in the <tt class="docutils literal"><span class="pre">examples/data/heart.vtk</span></tt> data file.</p>
<!-- Local Variables:
mode: rst
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
End: -->
<br><div class=navigation>
<a class='navigation' href='user_guide.html'>
<img src="images/previous.png" border=0>
Up </a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a class='navigation' href='user_guide.html'><img src="images/go-up.png" border=0>
Top Level</a>
</div></div>
</div>
</div>
</body>
</html>
